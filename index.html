<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>兎月詩　歌える曲一覧</title>
<style>
  body {
    text-align: center; /* 全体を中央寄せにするための基本設定 */
    background-color: #ffffff; /* ページ全体の背景色を白に設定 */
    margin: 0; /* ページ全体の余白を削除 */
    padding: 0; /* ページ全体のパディングを削除 */
  }
  table { 
    width: 99%;  /* テーブルの全体幅を99%に設定 */
    border-collapse: collapse;
    margin: 20px auto;  /* テーブルを中央寄せ */
  }
  th, td { 
    border: 1px solid black; 
    padding: 8px; 
    text-align: left;
  }
  th { 
    cursor: pointer; 
  }
  .artist-name {
    width: 200px; /* アーティスト名の列の幅を200pxに設定 */
  }
  .song-name {
    width: 300px; /* 曲名の列の幅を300pxに設定 */
  }
  .song-id {
    width: 30px; /* 管理番号の列の幅を40pxに設定 */
  }
  #searchInput {
    margin: 20px 0; /* 上下にマージンを設定 */
    padding: 10px; /* 内側にパディングを設定 */
    width: 50%; /* 幅を50%に設定 */
    font-size: 16px;
    box-sizing: border-box; /* パディングとボーダーを含めた幅を設定 */
  }
  tbody tr:nth-child(odd) {
    background-color: #d2d2d2; /* 奇数行の背景色を #d2d2d2 に設定 */
  }
  tbody tr:nth-child(even) {
    background-color: #f2f2f2; /* 偶数行の背景色を #f2f2f2 に設定 */
  }

  /* 既存のCSS */

.hidden {
    display: none; /* 非表示のスタイル */
  }
  
.highlight {
    background-color: yellow; /* ハイライトの背景色を黄色に設定 */
    border: 1px solid black; /* ハイライトに黒の枠を設定 */
  }
  
  

  /* デスクトップ向けスタイル */
  @media (min-width: 1024px) {
    .artist-name {
      width: 200px;
    }
    .song-name {
      width: 300px;
    }
  }

  /* タブレット向けスタイル */
  @media (min-width: 768px) and (max-width: 1023px) {
    .artist-name {
      width: 150px;
    }
    .song-name {
      width: 250px;
    }
    table {
      width: 100%; /* テーブルの幅をタブレット向けに調整 */
    }
  }

  /* モバイル向けスタイル */
  @media (max-width: 767px) {
    .artist-name {
      width: 100px;
    }
    .song-name {
      width: 200px;
    }
    table {
      width: 100%; /* テーブルの幅をモバイル向けに調整 */
    }
    #searchInput {
      width: 80%; /* 検索欄の幅をモバイル向けに調整 */
    }
  }
</style>
</head>
<body>

<h2>兎月詩　歌える曲一覧 ver.1.0</h2>
<input type="text" id="searchInput" placeholder="検索...">

<table id="songsTable">
    <thead>
    <tr>
      <th class="artist-name" onclick="sortTable(0)">アーティスト名</th>
      <th class="hidden">アーティスト名読み仮名</th>
      <th class="song-name" onclick="sortTable(2)">曲名</th>
      <th class="hidden">曲名読み仮名</th>
      <th class="song-id" onclick="sortTable(4)">管理番号</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td class="artist-name">※アーティスト情報なし</td>
      <td class="hidden">なしナシ</td>
      <td class="song-name">いかないで</td>
      <td class="hidden">いかないでイカナイデ</td>
      <td class="song-id">001</td>
    </tr>
    <tr>
      <td class="artist-name">MANDY MOORE</td>
      <td class="hidden">まんでぃむーあマンディムーア</td>
      <td class="song-name">自由への扉</td>
      <td class="hidden">じゆうへのとびらジユウヘノトビラ</td>
      <td class="song-id">002</td>
    </tr>
    <tr>
      <td class="artist-name">IWish</td>
      <td class="hidden">あいうぃっしアイウィッシュ</td>
      <td class="song-name">明日への扉</td>
      <td class="hidden">あすへのとびらアスヘノトビラ</td>
      <td class="song-id">003</td>
    </tr>
    <tr>
      <td class="artist-name">相川　七瀬</td>
      <td class="hidden">あいかわななせアイカワナナセ</td>
      <td class="song-name">夢見る少女じゃいられない</td>
      <td class="hidden">ゆめみるしょうじょじゃいられないユメミルショウジョジャイラレナイ</td>
      <td class="song-id">004</td>
    </tr>
    <tr>
      <td class="artist-name">AKINO</td>
      <td class="hidden">あきのアキノ</td>
      <td class="song-name">創聖のアクエリオン</td>
      <td class="hidden">そうせいのあくえりおんソウセイノアクエリオン</td>
      <td class="song-id">005</td>
    </tr>
    <tr>
      <td class="artist-name">りょーくん</td>
      <td class="hidden">りょーくんリョークン</td>
      <td class="song-name">吉原ラメント</td>
      <td class="hidden">よしわららめんとヨシワララメント</td>
      <td class="song-id">006</td>
    </tr>
    <tr>
      <td class="artist-name">新しい学校のリーダーズ</td>
      <td class="hidden">あたらしいつきこのりーだーずアタラシイツキコノリーダーズ</td>
      <td class="song-name">オトナブルー</td>
      <td class="hidden">おとなぶるーオトナブルー</td>
      <td class="song-id">007</td>
    </tr>
    <tr>
      <td class="artist-name">Ado</td>
      <td class="hidden">あどアド</td>
      <td class="song-name">阿修羅ちゃん</td>
      <td class="hidden">あしゅらちゃんアシュラチャン</td>
      <td class="song-id">008</td>
    </tr>
    <tr>
      <td class="artist-name">Ado</td>
      <td class="hidden">あどアド</td>
      <td class="song-name">うっせぇわ</td>
      <td class="hidden">うっせぇわウッセェワ</td>
      <td class="song-id">009</td>
    </tr>
    <tr>
      <td class="artist-name">Ado</td>
      <td class="hidden">あどアド</td>
      <td class="song-name">ギラギラ</td>
      <td class="hidden">ぎらぎらギラギラ</td>
      <td class="song-id">010</td>
    </tr>
    <tr>
      <td class="artist-name">Ado</td>
      <td class="hidden">あどアド</td>
      <td class="song-name">レディメイド</td>
      <td class="hidden">れでぃめいどレディメイド</td>
      <td class="song-id">011</td>
    </tr>
    <tr>
      <td class="artist-name">Ado</td>
      <td class="hidden">あどアド</td>
      <td class="song-name">私は最強</td>
      <td class="hidden">わたしはさいきょうワタシハサイキョウ</td>
      <td class="song-id">012</td>
    </tr>
    <tr>
      <td class="artist-name">Ado</td>
      <td class="hidden">あどアド</td>
      <td class="song-name">新時代</td>
      <td class="hidden">しんじだいシンジダイ</td>
      <td class="song-id">013</td>
    </tr>
    <tr>
      <td class="artist-name">嵐</td>
      <td class="hidden">あらしアラシ</td>
      <td class="song-name">Love so sweet</td>
      <td class="hidden">らぶそーすうぃーとラブソースウィート</td>
      <td class="song-id">014</td
    </tr>
    </tbody>
</table>

<script>
    function normalizeString(str) {
        return str.replace(/[Ａ-Ｚａ-ｚ０-９]/g, function(s) {
          return String.fromCharCode(s.charCodeAt(0) - 0xFEE0);
        }).toUpperCase();
      }
      
      document.getElementById('searchInput').addEventListener('keyup', function() {
        let filter = normalizeString(this.value);
        let rows = document.getElementById("songsTable").getElementsByTagName("tr");
      
        for (let i = 1; i < rows.length; i++) {
          let artistTd = rows[i].getElementsByTagName("td")[0];
          let artistPhoneticTd = rows[i].getElementsByTagName("td")[1];
          let songTd = rows[i].getElementsByTagName("td")[2];
          let songPhoneticTd = rows[i].getElementsByTagName("td")[3];
          let songIdTd = rows[i].getElementsByTagName("td")[4];
          let artist = normalizeString(artistTd.textContent);
          let artistPhonetic = normalizeString(artistPhoneticTd.textContent);
          let song = normalizeString(songTd.textContent);
          let songPhonetic = normalizeString(songPhoneticTd.textContent);
          let songId = normalizeString(songIdTd.textContent);
      
          artistTd.innerHTML = artistTd.textContent; // リセット
          songTd.innerHTML = songTd.textContent; // リセット
          songIdTd.innerHTML = songIdTd.textContent; // リセット
      
          if (filter === "") {
            artistTd.classList.remove('highlight');
            songTd.classList.remove('highlight');
            rows[i].style.display = "";
          } else {
            if (artist.includes(filter) || artistPhonetic.includes(filter)) {
              artistTd.classList.add('highlight');
            } else {
              artistTd.classList.remove('highlight');
            }
      
            if (song.includes(filter) || songPhonetic.includes(filter)) {
              songTd.classList.add('highlight');
            } else {
              songTd.classList.remove('highlight');
            }
      
            rows[i].style.display = (artist.includes(filter) || artistPhonetic.includes(filter) || song.includes(filter) || songPhonetic.includes(filter) || songId.includes(filter)) ? "" : "none";
          }
        }
      });
      
      function sortTable(n) {
        let table = document.getElementById("songsTable");
        let rows = Array.from(table.rows).slice(1);
        let sortedRows = rows.sort((a, b) => {
          let textA = a.cells[n].textContent;
          let textB = b.cells[n].textContent;
          return textA.localeCompare(textB);
        });
        sortedRows.forEach(row => table.appendChild(row));
      }
      
      
</script>

</body>
</html>
